<!doctype html>
<!-- The DOCTYPE declaration above will set the     -->
<!-- browser's rendering engine into                -->
<!-- "Standards Mode". Replacing this declaration   -->
<!-- with a "Quirks Mode" doctype is not supported. -->

<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">

    <!--                                                               -->
    <!-- Consider inlining CSS to reduce the number of requested files -->
    <!--                                                               -->
    <link type="text/css" rel="stylesheet" href="Cancer_model_experimenter.css">

    <!--                                           -->
    <!-- Any title is fine                         -->
    <!--                                           -->
    <title>Web Interface for running experiments with the cancer cell model</title>
      <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
      <style>#slider { margin: 10px; }	</style>
      <script src="//code.jquery.com/jquery-1.10.2.js"></script>
      <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <!--                                           -->
    <!-- This script loads your compiled module.   -->
    <!-- If you add any GWT meta tags, they must   -->
    <!-- be added before this line.                -->
    <!--                                           -->
    <script type="text/javascript" src="cancer_model_experimenter/cancer_model_experimenter.nocache.js"></script>
  </head>

  <body>

    <!-- RECOMMENDED if your web app will not function without JavaScript enabled -->
    <noscript>
      <div style="width: 22em; position: absolute; left: 50%; margin-left: -11em; color: red; background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif">
        Your web browser must have JavaScript enabled
        in order for this application to display correctly.
      </div>
    </noscript>

    <h1>Run experiments with the cancer cell model</h1>
    
    <p>Set the following sliders and buttons to specify the parameters of your experiment.</p>
    <div id='sliders'></div>
 
<script>
var add_slider = function (label_id, caption, min, max, value) {
                     var slider_panel  = document.createElement('div');
                     var slider        = document.createElement('div');
                     var label         = document.createElement('label');
                     var value_display = document.createElement('input');
                     slider_panel.className = "slider-panel";
                     slider.className = 'slider';
                     slider.id = 'the-' + label_id;
                     label.for = slider.id;
                     label.innerHTML = caption;
                     value_display.type = 'text';
                     value_display.id = label_id;
                     value_display.className = 'slider-value-display';
                     var transform_slider_value = function (slider_value) {
		                                              var factor = (max-min)/100;
		                                              return min+factor*slider_value;
		                                          };
					 $(slider).slider({step: 1,
					                   min: 0,
					                   max: 100,
					                   value: 100*value/(max-min),
					                   slide: function(event, ui) {
					                              $(value_display).val(transform_slider_value(ui.value).toPrecision(2))
					               }});
					$(value_display).val(value);
					slider_panel.appendChild(slider);
					slider_panel.appendChild(label);
					slider_panel.appendChild(value_display);
					$("#sliders").append(slider_panel);
			     };
add_slider("egf-diffusion-coefficient",    "EGF diffusion coefficient:",    0, 1.0e-13, 2.7E-14);
add_slider("oxygen-diffusion-coefficient", "Oxygen diffusion coefficient:", 0, 1.0e-8,  1.0E-9);


</script>

    <table align="center">
      <tr>
        <td colspan="2" style="font-weight:bold;">If you wish to be notified when the results are ready please enter your email:</td>        
      </tr>
      <tr>
        <td id="emailFieldContainer"></td>
        <td id="experimentButtonContainer"></td>
      </tr>
      <tr>
        <td colspan="2" style="color:red;" id="errorLabelContainer"></td>
      </tr>
    </table>
  </body>
</html>
